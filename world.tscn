[gd_scene format=4 uid="uid://b0mwdpm0ucqug"]

[ext_resource type="Script" uid="uid://cex60lnvav15l" path="res://scripts/loop_timer.gd" id="1_aqk2v"]
[ext_resource type="AudioStream" uid="uid://n74tj0ijyec2" path="res://sfx/ambience1.wav" id="1_k3n1d"]
[ext_resource type="Script" uid="uid://bqvb0dr4scxf1" path="res://scripts/room.gd" id="2_dwbse"]
[ext_resource type="Texture2D" uid="uid://bcorfdj857iql" path="res://player_sprites.png" id="2_fj7yv"]
[ext_resource type="Texture2D" uid="uid://bdfewhe3c8asq" path="res://tilemap.png" id="3_tlwt5"]
[ext_resource type="PackedScene" uid="uid://ck4le5qj5ua62" path="res://prefabs/guard.tscn" id="4_036b0"]
[ext_resource type="PackedScene" uid="uid://bnr3kggdohc52" path="res://prefabs/autodoor_h.tscn" id="5_70uel"]
[ext_resource type="Script" uid="uid://d1k1f6f3gxlb4" path="res://scripts/player.gd" id="5_ic0uy"]
[ext_resource type="Script" uid="uid://deotyyxlkpkx5" path="res://scripts/weapon.gd" id="6_gbfbk"]
[ext_resource type="Texture2D" uid="uid://s60g356jmc5s" path="res://2d_light.webp" id="6_pkg7o"]
[ext_resource type="Script" uid="uid://bufpgle78vfiw" path="res://scripts/cam.gd" id="6_wse8f"]
[ext_resource type="PackedScene" uid="uid://c6jatjqfvu7j0" path="res://prefabs/projectile.tscn" id="7_ioo17"]
[ext_resource type="Script" uid="uid://2i62rtqxayqf" path="res://scripts/sfx_player.gd" id="11_ic0uy"]
[ext_resource type="PackedScene" uid="uid://b8r8j8qwjionc" path="res://prefabs/autodoor_v.tscn" id="13_2o6r5"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_k3n1d"]
vertices = PackedVector2Array(4, 4, -4, 4, -4, -4, 4, -4)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_aqk2v"]
texture = ExtResource("3_tlwt5")
texture_region_size = Vector2i(8, 8)
0:0/0 = 0
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_k3n1d")
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, -2, -4, -2)

[sub_resource type="TileSet" id="TileSet_036b0"]
tile_size = Vector2i(8, 8)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 1
sources/0 = SubResource("TileSetAtlasSource_aqk2v")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_036b0"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fj7yv"]
size = Vector2(8, 7)

[sub_resource type="CircleShape2D" id="CircleShape2D_dwbse"]
radius = 8.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dwbse"]
size = Vector2(4, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ioo17"]
size = Vector2(128, 3)

[sub_resource type="CircleShape2D" id="CircleShape2D_ioo17"]
radius = 4.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gbfbk"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(0.19607843, 0.5921569, 1, 1)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ioo17"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(1, 1, 1, 0.75)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wse8f"]
content_margin_left = 4.0
content_margin_top = 4.0
content_margin_right = 4.0
content_margin_bottom = 4.0
bg_color = Color(0.032874554, 0.1905427, 0.34605154, 1)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4
corner_detail = 6

[sub_resource type="Theme" id="Theme_ic0uy"]
HSlider/constants/center_grabber = 0
HSlider/constants/grabber_offset = 0
HSlider/constants/tick_offset = 0
HSlider/icons/grabber = null
HSlider/icons/grabber_disabled = null
HSlider/icons/grabber_highlight = null
HSlider/icons/tick = null
HSlider/styles/grabber_area = SubResource("StyleBoxFlat_gbfbk")
HSlider/styles/grabber_area_highlight = SubResource("StyleBoxFlat_ioo17")
HSlider/styles/slider = SubResource("StyleBoxFlat_wse8f")

[node name="world" type="Node2D" unique_id=788739689]

[node name="sfx_bg" type="AudioStreamPlayer2D" parent="." unique_id=250844739]
stream = ExtResource("1_k3n1d")
autoplay = true

[node name="loop_timer" type="Timer" parent="." unique_id=2424628]
wait_time = 5.0
one_shot = true
script = ExtResource("1_aqk2v")

[node name="tilemap" type="TileMapLayer" parent="." unique_id=1344681809]
tile_map_data = PackedByteArray("AAAJAAUAAAAAAAEAAAAJAAYAAAAAAAEAAAAJAAcAAAAAAAEAAAAJAAgAAAAAAAEAAAAJAAkAAAAAAAEAAAAJAAoAAAAAAAEAAAAJAAsAAAAAAAEAAAAJAAwAAAAAAAEAAAAJAA0AAAAAAAEAAAAKAA0AAAAAAAEAAAALAA0AAAAAAAEAAAAMAA0AAAAAAAEAAAANAA0AAAAAAAEAAAAOAA0AAAAAAAEAAAAPAA0AAAAAAAEAAAAQAA0AAAAAAAEAAAARAA0AAAAAAAEAAAASAA0AAAAAAAEAAAATAAQAAAAAAAEAAAASAAQAAAAAAAEAAAAJAAQAAAAAAAEAAAAKAAQAAAAAAAEAAAAKAAUAAAAAAAIAAAASAAUAAAAAAAEAAAALAAUAAAAAAAIAAAALAAYAAAAAAAAAAAALAAcAAAAAAAAAAAALAAgAAAAAAAAAAAALAAkAAAAAAAAAAAALAAoAAAAAAAAAAAALAAsAAAAAAAAAAAALAAwAAAAAAAAAAAAMAAUAAAAAAAIAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAAMAAkAAAAAAAAAAAAMAAoAAAAAAAAAAAAMAAsAAAAAAAAAAAAMAAwAAAAAAAAAAAANAAUAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAANAAkAAAAAAAAAAAANAAoAAAAAAAAAAAANAAsAAAAAAAAAAAANAAwAAAAAAAAAAAAOAAUAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAOAAkAAAAAAAAAAAAOAAoAAAAAAAAAAAAOAAsAAAAAAAAAAAAOAAwAAAAAAAAAAAAPAAUAAAAAAAIAAAAPAAYAAAAAAAAAAAAPAAcAAAAAAAAAAAAPAAgAAAAAAAAAAAAPAAkAAAAAAAAAAAAPAAoAAAAAAAAAAAAPAAsAAAAAAAAAAAAPAAwAAAAAAAAAAAAQAAUAAAAAAAIAAAAQAAYAAAAAAAAAAAAQAAcAAAAAAAAAAAAQAAgAAAAAAAAAAAAQAAkAAAAAAAAAAAAQAAoAAAAAAAAAAAAQAAsAAAAAAAAAAAAQAAwAAAAAAAAAAAARAAUAAAAAAAIAAAARAAYAAAAAAAAAAAARAAcAAAAAAAAAAAARAAgAAAAAAAAAAAARAAkAAAAAAAAAAAARAAoAAAAAAAAAAAARAAsAAAAAAAAAAAARAAwAAAAAAAAAAAASAAYAAAAAAAEAAAASAAcAAAAAAAEAAAASAAgAAAAAAAEAAAASAAkAAAAAAAEAAAASAAoAAAAAAAEAAAASAAsAAAAAAAEAAAASAAwAAAAAAAEAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAAAAAAKAAgAAAAAAAAAAAAKAAkAAAAAAAAAAAAKAAoAAAAAAAAAAAAKAAsAAAAAAAAAAAAKAAwAAAAAAAAAAAD8/wQAAAAAAAEAAAADAAQAAAAAAAEAAAD8////AAAAAAEAAAD8/wAAAAAAAAEAAAD8/wEAAAAAAAEAAAD8/wIAAAAAAAEAAAD8/wMAAAAAAAEAAAAiAP7/AAAAAAEAAAAiAP//AAAAAAEAAAAiAAAAAAAAAAEAAAAiAAEAAAAAAAEAAAAiAAIAAAAAAAEAAAAiAAMAAAAAAAEAAAAiAAQAAAAAAAEAAAAUAAQAAAAAAAEAAAAVAAQAAAAAAAEAAAAWAAQAAAAAAAEAAAAXAAQAAAAAAAEAAAAYAAQAAAAAAAEAAAAZAAQAAAAAAAEAAAAaAAQAAAAAAAEAAAAbAAQAAAAAAAEAAAAcAAQAAAAAAAEAAAAdAAQAAAAAAAEAAAAeAAQAAAAAAAEAAAAfAAQAAAAAAAEAAAAgAAQAAAAAAAEAAAAhAAQAAAAAAAEAAAALAAQAAAAAAAEAAAAMAAQAAAAAAAEAAAAOAAQAAAAAAAAAAAAPAAQAAAAAAAEAAAAQAAQAAAAAAAEAAAARAAQAAAAAAAEAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wMAAAAAAAAAAAD+////AAAAAAAAAAD+/wAAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wIAAAAAAAAAAAD+/wMAAAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAD//wEAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAAAAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAAAAAAAAAABAAMAAAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAADAP//AAAAAAEAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAEAAAADAAMAAAAAAAEAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAMAAAAAAAEAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAMAAAAAAAEAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAMAAAAAAAEAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAMAAAAAAAEAAAAIAP//AAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAIAAMAAAAAAAEAAAAJAP//AAAAAAAAAAAJAAAAAAAAAAAAAAAJAAEAAAAAAAAAAAAJAAIAAAAAAAEAAAAJAAMAAAAAAAEAAAAKAP//AAAAAAAAAAAKAAAAAAAAAAAAAAAKAAEAAAAAAAAAAAAKAAIAAAAAAAAAAAAKAAMAAAAAAAAAAAALAP//AAAAAAAAAAALAAAAAAAAAAAAAAALAAEAAAAAAAAAAAALAAIAAAAAAAAAAAALAAMAAAAAAAAAAAAMAP//AAAAAAAAAAAMAAAAAAAAAAAAAAAMAAEAAAAAAAAAAAAMAAIAAAAAAAAAAAAMAAMAAAAAAAAAAAANAP//AAAAAAAAAAANAAAAAAAAAAAAAAANAAEAAAAAAAAAAAANAAIAAAAAAAAAAAANAAMAAAAAAAAAAAAOAP//AAAAAAAAAAAOAAAAAAAAAAAAAAAOAAEAAAAAAAAAAAAOAAIAAAAAAAAAAAAOAAMAAAAAAAAAAAAPAP//AAAAAAAAAAAPAAAAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAMAAAAAAAAAAAAQAP//AAAAAAAAAAAQAAAAAAAAAAAAAAAQAAEAAAAAAAAAAAAQAAIAAAAAAAAAAAAQAAMAAAAAAAAAAAARAP//AAAAAAAAAAARAAAAAAAAAAAAAAARAAEAAAAAAAAAAAARAAIAAAAAAAAAAAARAAMAAAAAAAAAAAASAP//AAAAAAAAAAASAAAAAAAAAAAAAAASAAEAAAAAAAAAAAASAAIAAAAAAAAAAAASAAMAAAAAAAAAAAATAP//AAAAAAAAAAATAAAAAAAAAAAAAAATAAEAAAAAAAAAAAATAAIAAAAAAAAAAAATAAMAAAAAAAAAAAAUAP//AAAAAAAAAAAUAAAAAAAAAAAAAAAUAAEAAAAAAAAAAAAUAAIAAAAAAAAAAAAUAAMAAAAAAAAAAAAVAP//AAAAAAAAAAAVAAAAAAAAAAAAAAAVAAEAAAAAAAAAAAAVAAIAAAAAAAAAAAAVAAMAAAAAAAAAAAAWAP//AAAAAAAAAAAWAAAAAAAAAAAAAAAWAAEAAAAAAAAAAAAWAAIAAAAAAAAAAAAWAAMAAAAAAAAAAAAXAP//AAAAAAAAAAAXAAAAAAAAAAAAAAAXAAEAAAAAAAAAAAAXAAIAAAAAAAAAAAAXAAMAAAAAAAAAAAAYAP//AAAAAAAAAAAYAAAAAAAAAAAAAAAYAAEAAAAAAAAAAAAYAAIAAAAAAAAAAAAYAAMAAAAAAAAAAAAZAP//AAAAAAAAAAAZAAAAAAAAAAAAAAAZAAEAAAAAAAAAAAAZAAIAAAAAAAAAAAAZAAMAAAAAAAAAAAAaAP//AAAAAAAAAAAaAAAAAAAAAAAAAAAaAAEAAAAAAAAAAAAaAAIAAAAAAAAAAAAaAAMAAAAAAAAAAAAbAP//AAAAAAAAAAAbAAAAAAAAAAAAAAAbAAEAAAAAAAAAAAAbAAIAAAAAAAAAAAAbAAMAAAAAAAAAAAAcAP//AAAAAAAAAAAcAAAAAAAAAAAAAAAcAAEAAAAAAAAAAAAcAAIAAAAAAAAAAAAcAAMAAAAAAAAAAAAdAP//AAAAAAAAAAAdAAAAAAAAAAAAAAAdAAEAAAAAAAAAAAAdAAIAAAAAAAAAAAAdAAMAAAAAAAAAAAAeAP//AAAAAAAAAAAeAAAAAAAAAAAAAAAeAAEAAAAAAAAAAAAeAAIAAAAAAAAAAAAeAAMAAAAAAAAAAAAfAP//AAAAAAAAAAAfAAAAAAAAAAAAAAAfAAEAAAAAAAAAAAAfAAIAAAAAAAAAAAAfAAMAAAAAAAAAAAAgAP//AAAAAAAAAAAgAAAAAAAAAAAAAAAgAAEAAAAAAAAAAAAgAAIAAAAAAAAAAAAgAAMAAAAAAAAAAAAhAP7/AAAAAAEAAAAhAP//AAAAAAAAAAAhAAAAAAAAAAAAAAAhAAEAAAAAAAAAAAAhAAIAAAAAAAAAAAAhAAMAAAAAAAAAAAD8//7/AAAAAAEAAAADAP7/AAAAAAEAAAAEAP7/AAAAAAEAAAAFAP7/AAAAAAEAAAAGAP7/AAAAAAEAAAAHAP7/AAAAAAEAAAAIAP7/AAAAAAEAAAAJAP7/AAAAAAEAAAAKAP7/AAAAAAEAAAALAP7/AAAAAAEAAAAMAP7/AAAAAAEAAAANAP7/AAAAAAEAAAAOAP7/AAAAAAEAAAAPAP7/AAAAAAEAAAAQAP7/AAAAAAEAAAARAP7/AAAAAAEAAAASAP7/AAAAAAEAAAATAP7/AAAAAAEAAAAUAP7/AAAAAAEAAAAVAP7/AAAAAAEAAAAWAP7/AAAAAAEAAAAXAP7/AAAAAAEAAAAYAP7/AAAAAAEAAAAZAP7/AAAAAAEAAAAaAP7/AAAAAAEAAAAbAP7/AAAAAAEAAAAcAP7/AAAAAAEAAAAdAP7/AAAAAAEAAAAeAP7/AAAAAAEAAAAfAP7/AAAAAAEAAAAgAP7/AAAAAAEAAAD8//z/AAAAAAEAAAD8//3/AAAAAAEAAAD9//z/AAAAAAEAAAD+//z/AAAAAAEAAAD///z/AAAAAAEAAAAAAPz/AAAAAAEAAAABAPz/AAAAAAEAAAACAPz/AAAAAAEAAAADAPz/AAAAAAEAAAADAP3/AAAAAAEAAAADAAUAAAAAAAEAAAD8/wUAAAAAAAEAAAD9/wUAAAAAAAEAAAD+/wUAAAAAAAEAAAD//wUAAAAAAAEAAAAAAAUAAAAAAAEAAAABAAUAAAAAAAEAAAACAAUAAAAAAAEAAAANAAQAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_036b0")

[node name="autodoor_v" parent="." unique_id=93097630 instance=ExtResource("13_2o6r5")]
position = Vector2(28, 8)

[node name="autodoor_h" parent="." unique_id=1113834479 instance=ExtResource("5_70uel")]
position = Vector2(112, 40)

[node name="room" type="Area2D" parent="." unique_id=1411046070 node_paths=PackedStringArray("enemies")]
position = Vector2(116, 72)
collision_layer = 2
collision_mask = 2
script = ExtResource("2_dwbse")
enemies = [NodePath("../guard"), NodePath("../guard2")]

[node name="col" type="CollisionShape2D" parent="room" unique_id=753372078]
position = Vector2(-4, 0)
shape = SubResource("RectangleShape2D_036b0")

[node name="guard" parent="." unique_id=1139509445 instance=ExtResource("4_036b0")]
position = Vector2(138, 97)

[node name="guard2" parent="." unique_id=405545415 instance=ExtResource("4_036b0")]
position = Vector2(87, 98)

[node name="player" type="CharacterBody2D" parent="." unique_id=2144539989 groups=["player"]]
z_index = 2
collision_layer = 3
script = ExtResource("5_ic0uy")

[node name="col" type="CollisionShape2D" parent="player" unique_id=2077254795]
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_fj7yv")

[node name="sprite" type="Sprite2D" parent="player" unique_id=1027690536]
texture = ExtResource("2_fj7yv")
hframes = 8
vframes = 8

[node name="cam" type="Camera2D" parent="player" unique_id=597625721]
zoom = Vector2(6, 6)
position_smoothing_enabled = true
position_smoothing_speed = 3.0
script = ExtResource("6_wse8f")

[node name="cam_pivot" type="Node2D" parent="player" unique_id=75568497]

[node name="cooldown_dash" type="Timer" parent="player" unique_id=1333654476]
wait_time = 0.35
one_shot = true

[node name="cooldown_grapple" type="Timer" parent="player" unique_id=890198071]
wait_time = 1.5
one_shot = true

[node name="grapple_raycast" type="RayCast2D" parent="player" unique_id=1624755951]
target_position = Vector2(0, 0)
collision_mask = 5
hit_from_inside = true

[node name="grapple_detect" type="Area2D" parent="player" unique_id=1926353847]
collision_layer = 0
collision_mask = 4

[node name="col" type="CollisionShape2D" parent="player/grapple_detect" unique_id=1579747951]
shape = SubResource("CircleShape2D_dwbse")

[node name="grapple_line" type="Line2D" parent="player" unique_id=1275116478]
z_index = -1
points = PackedVector2Array(0, 0, 24.45, 0)
width = 1.0
default_color = Color(0.66656864, 0.6665687, 0.66656864, 1)

[node name="parry" type="Area2D" parent="player" unique_id=1167804328 groups=["parry_collider"]]
collision_layer = 2
collision_mask = 8

[node name="col" type="CollisionShape2D" parent="player/parry" unique_id=614903332]
position = Vector2(8, 0)
shape = SubResource("RectangleShape2D_dwbse")
disabled = true

[node name="sprite" type="Sprite2D" parent="player/parry" unique_id=375980018]
visible = false
position = Vector2(3, 0)
texture = ExtResource("2_fj7yv")
hframes = 8
vframes = 8
frame = 8

[node name="parry_timer" type="Timer" parent="player" unique_id=3190101]
wait_time = 0.25
one_shot = true

[node name="parry_cooldown" type="Timer" parent="player" unique_id=33424335]
wait_time = 0.5
one_shot = true

[node name="weapon" type="Node2D" parent="player" unique_id=383713645]
script = ExtResource("6_gbfbk")
PROJECTILE = ExtResource("7_ioo17")

[node name="sprite" type="Sprite2D" parent="player/weapon" unique_id=1299238413]
position = Vector2(3, 0)
texture = ExtResource("2_fj7yv")
offset = Vector2(4, -3)
hframes = 8
vframes = 8
frame = 16

[node name="shoot_pivot" type="Node2D" parent="player/weapon/sprite" unique_id=1737796364]
position = Vector2(6, -1.5)

[node name="flash_pistol" type="CPUParticles2D" parent="player/weapon/sprite/shoot_pivot" unique_id=928762568]
emitting = false
lifetime = 0.09999999999999999
one_shot = true
speed_scale = 1.5
explosiveness = 1.0
spread = 25.0
gravity = Vector2(0, 0)
initial_velocity_min = 30.3
initial_velocity_max = 72.73
angular_velocity_min = -366.55
angular_velocity_max = 410.18
linear_accel_min = -78.18
linear_accel_max = -42.42
color = Color(0.92941177, 0.88235295, 0.61960787, 1)

[node name="flash_cannon" type="CPUParticles2D" parent="player/weapon/sprite/shoot_pivot" unique_id=373137787]
emitting = false
amount = 16
lifetime = 0.2
one_shot = true
speed_scale = 1.5
explosiveness = 1.0
lifetime_randomness = 0.25
gravity = Vector2(0, 0)
initial_velocity_min = 30.3
initial_velocity_max = 72.73
angular_velocity_min = -366.55
angular_velocity_max = 410.18
linear_accel_min = -100.0
linear_accel_max = -100.0
radial_accel_min = 10.91
radial_accel_max = 10.91
color = Color(0.92941177, 0.88235295, 0.61960787, 1)

[node name="flash_beam" type="CPUParticles2D" parent="player/weapon/sprite/shoot_pivot" unique_id=804537453]
emitting = false
amount = 32
lifetime = 0.5
one_shot = true
speed_scale = 1.5
explosiveness = 1.0
lifetime_randomness = 0.25
spread = 60.0
gravity = Vector2(0, 0)
initial_velocity_min = 30.3
initial_velocity_max = 72.73
angular_velocity_min = -366.55
angular_velocity_max = 410.18
linear_accel_min = -100.0
linear_accel_max = -100.0
radial_accel_min = 10.91
radial_accel_max = 10.91
color = Color(0.7058824, 0.32156864, 0.32156864, 1)

[node name="beam" type="Area2D" parent="player/weapon/sprite" unique_id=1658391524]
position = Vector2(6, -1.5)

[node name="col" type="CollisionShape2D" parent="player/weapon/sprite/beam" unique_id=578069019]
position = Vector2(64, 0)
shape = SubResource("RectangleShape2D_ioo17")

[node name="beam_line" type="Line2D" parent="player/weapon/sprite" unique_id=640063093]
position = Vector2(6, -1.5)
points = PackedVector2Array(0, 0, 128, 0)
closed = true
width = 0.0
default_color = Color(0.7058824, 0.32156864, 0.32156864, 1)

[node name="firerate" type="Timer" parent="player/weapon" unique_id=987678901]
wait_time = 0.3
one_shot = true

[node name="hitbox" type="Area2D" parent="player/weapon" unique_id=1725352337]
position = Vector2(6, 0)
collision_layer = 2
collision_mask = 4

[node name="col" type="CollisionShape2D" parent="player/weapon/hitbox" unique_id=1333045880]
shape = SubResource("CircleShape2D_ioo17")

[node name="hitbox_timer" type="Timer" parent="player/weapon" unique_id=2065968700]
one_shot = true

[node name="light_shadow" type="PointLight2D" parent="player" unique_id=382333714]
visible = false
color = Color(0.9999997, 0.77235144, 0.7333224, 1)
shadow_enabled = true
shadow_filter = 1
texture = ExtResource("6_pkg7o")
texture_scale = 3.0

[node name="light_world" type="PointLight2D" parent="player" unique_id=1842722311]
visible = false
color = Color(0.9999997, 0.77235144, 0.7333224, 1)
shadow_filter = 1
texture = ExtResource("6_pkg7o")
texture_scale = 2.0

[node name="rewind_timer" type="Timer" parent="player" unique_id=1437950667]
wait_time = 5.0
autostart = true

[node name="rewind_cooldown" type="Timer" parent="player" unique_id=1698665716]
wait_time = 5.0
one_shot = true

[node name="rewind_line" type="Line2D" parent="player" unique_id=1565579211]
z_index = -1
points = PackedVector2Array(0, 0, 0, 0)
width = 1.0
default_color = Color(0.34509805, 0.77254903, 0.8352941, 1)

[node name="sfx" type="Node2D" parent="player" unique_id=1230004172]
script = ExtResource("11_ic0uy")

[node name="rewind_particles" type="CPUParticles2D" parent="player" unique_id=309216002]
emitting = false
amount = 32
lifetime = 0.5
one_shot = true
explosiveness = 1.0
randomness = 0.2
emission_shape = 1
emission_sphere_radius = 3.85
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_min = 24.59
initial_velocity_max = 24.59
radial_accel_min = 1.0
radial_accel_max = 1.0
color = Color(0.63529414, 0.8627451, 0.78039217, 1)

[node name="damage_particles" type="CPUParticles2D" parent="player" unique_id=818350917]
emitting = false
amount = 16
lifetime = 0.25
one_shot = true
speed_scale = 2.0
explosiveness = 1.0
randomness = 0.2
emission_shape = 1
emission_sphere_radius = 3.85
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_min = 48.83
initial_velocity_max = 48.83
radial_accel_min = 1.0
radial_accel_max = 1.0
color = Color(0.9490196, 0.9411765, 0.8980392, 1)

[node name="rewind_indicator" type="Sprite2D" parent="." unique_id=1985583413]
position = Vector2(66, 1)
texture = ExtResource("2_fj7yv")
hframes = 8
vframes = 8
frame = 24

[node name="rewind_particles" type="CPUParticles2D" parent="rewind_indicator" unique_id=1715567920]
emitting = false
amount = 16
lifetime = 0.5
one_shot = true
explosiveness = 1.0
randomness = 0.2
emission_shape = 1
emission_sphere_radius = 3.85
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_min = 24.59
initial_velocity_max = 24.59
radial_accel_min = 1.0
radial_accel_max = 1.0
color = Color(0.3436738, 0.77071136, 0.8341967, 1)

[node name="canvas" type="CanvasLayer" parent="." unique_id=1948678491]

[node name="hud" type="Control" parent="canvas" unique_id=1019769493]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="slider_timer" type="HSlider" parent="canvas/hud" unique_id=30570187]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -173.5
offset_top = -54.0
offset_right = 173.5
offset_bottom = -38.0
grow_horizontal = 2
grow_vertical = 0
mouse_filter = 2
theme = SubResource("Theme_ic0uy")
step = 0.01
value = 50.0
editable = false
scrollable = false

[node name="lab_timer" type="Label" parent="canvas/hud" unique_id=861540943]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -62.5
offset_top = -57.0
offset_right = 62.5
offset_bottom = -34.0
grow_horizontal = 2
grow_vertical = 0
text = "5"
horizontal_alignment = 1

[node name="lab_loop_count" type="Label" parent="canvas/hud" unique_id=373438710]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 21.0
offset_top = -40.0
offset_right = 146.0
offset_bottom = -17.0
grow_vertical = 0
text = "Current Loop: 1"

[node name="lab_objective" type="Label" parent="canvas/hud" unique_id=696754296]
layout_mode = 1
offset_left = 21.0
offset_top = 15.0
offset_right = 146.0
offset_bottom = 38.0
text = "Objective: Infiltrate Inner Sector"

[node name="lab_health" type="Label" parent="canvas/hud" unique_id=33003501]
layout_mode = 1
offset_left = 21.0
offset_top = 41.0
offset_right = 146.0
offset_bottom = 64.0
text = "Health: 3"

[node name="canvas_modulate" type="CanvasModulate" parent="." unique_id=128941423]
visible = false
color = Color(0, 0, 0, 1)

[connection signal="timeout" from="loop_timer" to="loop_timer" method="_on_timeout"]
[connection signal="body_entered" from="room" to="room" method="_on_body_entered"]
[connection signal="timeout" from="player/cooldown_dash" to="player" method="_on_cooldown_dash_timeout"]
[connection signal="timeout" from="player/cooldown_grapple" to="player" method="_on_cooldown_grapple_timeout"]
[connection signal="body_entered" from="player/grapple_detect" to="player" method="_on_grapple_detect_body_entered"]
[connection signal="timeout" from="player/parry_timer" to="player" method="_on_parry_timer_timeout"]
[connection signal="timeout" from="player/parry_cooldown" to="player" method="_on_parry_cooldown_timeout"]
[connection signal="body_entered" from="player/weapon/sprite/beam" to="player/weapon" method="_on_beam_body_entered"]
[connection signal="timeout" from="player/weapon/firerate" to="player/weapon" method="_on_firerate_timeout"]
[connection signal="body_entered" from="player/weapon/hitbox" to="player/weapon" method="_on_hitbox_body_entered"]
[connection signal="timeout" from="player/weapon/hitbox_timer" to="player/weapon" method="_on_hitbox_timer_timeout"]
[connection signal="timeout" from="player/rewind_timer" to="player" method="_on_rewind_timer_timeout"]
[connection signal="timeout" from="player/rewind_cooldown" to="player" method="_on_rewind_cooldown_timeout"]
